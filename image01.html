<!DOCTYPE html>
<html lang="">

<head>
	<meta charset="utf-8">
	<title>Glitch FX - Image</title>

	<link rel="stylesheet" href="style.css">

</head>

<body>
    
    <!-- Le HTML : l'image à traiter doit être dans un conteneur,
         et ce conteneur doit avoir position:relative
         pour permettre le positionnement absolu des tranches -->
    
	<div id = "conteneur-image">
        <img src = "https://picsum.photos/800/600">
    </div>
    
    <!---------------------------------------------------------->
    
	<script type="text/javascript" src="image-slicer.js"></script>
    
    
    <!-- Actions spécifiques à cette page
         (utilisant les fonctions fournies par image-slicer.js) : -->
    
    <script>
        
        var image_a_traiter = document.querySelector("#conteneur-image img");
    
        window.onload = function(){ // Il faut attendre le chargement pour que la taille de l'image soit disponible

        var tranches = slice_image( image_a_traiter , 20 , 100 , 5 , 10 );
            /* tranches est un tableau contenant les diverses tranches obtenues à partir de l'image.
               Ici on obtient entre 5 et 10 tranches, dont la hauteur peut varier entre 20 et 100px de haut.
            */
    
        for (var i = 0; i < tranches.length; i++) {
            
            var une_tranche = tranches[i];
            
            ///////// Pour chaque tranche (plein de choses sont faisables) /////////
            
            var margin = Math.round(Math.random() * 50);
            
            if (Math.random() > 0.5) {
                margin *= -1;
            }
            
            une_tranche.style.left = margin + "px";
            
            
            ////////////////////////////////////////////////////////////////////////
            
        }
    
    }
    
    </script>
    
</body>

</html>